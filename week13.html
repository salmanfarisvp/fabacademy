
<!DOCTYPE HTML>

<html>
	<head>
		<title>Interface and Application Programming</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">

							<!-- Logo -->
								<a href="index.html" class="logo">
									<span class="symbol"></span><span class="title">Interface and Application Programming</span>
                                    
								</a>
                            
                            

							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a href="assignments.html">Assignments</a></li>
							<li><a href="finalproject.html">Final Project</a></li>
							<li><a href="aboutme.html">About Me</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<div class="inner">
							<ul><li> write an application that interfaces with an input &/or output device that i made</li>
                            <li>compare as many tool options as possible.</li></ul>
                            <hr>
                            <h3>Introduction</h3>
                            <p>In this week we need to develop an Application that interface our Input or Output devices, .professor neil gave us a introduction for building interface application and also communication protocols.</p>
                            
                            <h3>MIT App inventor</h3>
                            <img src="images/week13/001.png">
                            <p>App Inventor for Android is an open-source web application originally provided by Google, and now maintained by the Massachusetts Institute of Technology (MIT).App Inventor lets you develop applications for Android phones using a web browser and either a connected phone or emulator. </p>
                            <p><b>How it work..?</b></p>
                            <img src="images/week13/002.png">
                            <p>App inventor have two part </p>
                            <ul>
                            <li>The <b>App Inventor Designer</b>, where you select the components for your app.</li>
                            <li>The <b>App Inventor Blocks Editor</b>, where you assemble program blocks that specify how the components should behave. You assemble programs visually, fitting pieces together like pieces of a puzzle.</li></ul>
                            <p>Here we are going to control LED light by using our phone , for this we need an Application so we are using MIT App inventor. </p>
                            <hr>
                            <h3>Application Development</h3>
                            <ul>
                            <li><b>UI Design</b></li>
                            <p>The App Inventor Components are located on the left hand side of the Designer Window under the title Palette. Components are the basic elements you use to make apps on the Android phone. They're like the ingredients in a recipe. Some components are very simple, like a Label component, which just shows text on the screen, or a Button component  that you tap to initiate an action.</p>
                            <img src="images/week13/003.png" height="500">
                            <br><br><p>I added two <b>Buttons</b> For Turn ON and OFF the LED , and One <b>Listpicker</b> for selecting the bluetooth device.also we need to add the <b>Bluetooth Clinet</b> it avilable under the <b>Connectivity</b> tab. </p>
                            <img src="images/week13/004.png" height="600">
                            <p>Here is how i designed my Application User Interface.you can see the components list that i used in the app. </p>
                             
                            <li><b>Programming</b></li>
                            <p>Actually we don't need any coding to do our app , we just need to arrange some blocks in a order .</p>
                            <img src="images/week13/005.png" height="500">
                            <p>here we have main two code blocks, </p>
                            <ol>
                            <li><b>Bluetooth selection</b></li>
                            <p>we are using <b>ListPicker</b> for the bluetooth selection. </p>
                            <img src="images/week13/006.png" >
                            <p><b>ListPicker</b> have two state , one is <b>BeforePicking</b> state,in here we are loading bluetooth names in the list, second is <b>AfterPicking</b> here we are connecting the Bluetooth device that loaded on the ListPicker BeforePicking state , and also we are changing the text of the ListPicker in to <b>Connected</b> when we establish a bluetooth connection. </p>
                            
                            <li><b>Button Activity</b></li>
                            <p>we are using two buttons for contorling LED state.</p>
                            <img src="images/week13/007.png">
                            <p>when we <b>click a button</b> bluetooth will transmit a text to device that connectedw with phone(we alredy connected a bluetooth device using ListPicker Bluetooth Selection). here if we press the Button2 it will transmit letter <b>'A'</b> and if we press the Button3 it will transmit letter <b>'B'</b> ,that's all. </p>
                            
                            </ol>
                            
                            </ul>
                          <hr>
                            <h3>Hardware Development</h3>
                            <p>For the project i,am using re-designed <b><a href="week7.html">Echo-Hello</a></b> board that we designed in <a href="week7.html">Electronics Production</a> week , beacuse it have in-built <b>LED</b> and <b>UART</b> Port.</p>
                            <img src="images/week13/008.jpg">
                            <p>for bluetooth communication we are using <b>HC-05</b> module.</p>
                            <img src="images/week13/009.jpg">
                            <p>It's an easy to use <b>Bluetooth SPP (Serial Port Protocol)</b> module,designed for transparent wireless serial connection setup.he HC-05 Bluetooth Module can be used in a Master or Slave configuration.This serial port bluetooth module is fully qualified Bluetooth V2.0+EDR (Enhanced Data Rate) 3Mbps Modulation with complete 2.4GHz radio transceiver and baseband. It uses CSR Bluecore 04‐External single chip Rluetooth system with CMOS technology and with AFH (Adaptive Frequency Hopping Feature).datasheet :- <a href="https://www.gme.cz/data/attachments/dsh.772-148.1.pdf">https://www.gme.cz/data/attachments/dsh.772-148.1.pdf</a></p>
                            
                            <p><b>Pin Description</b></p>
                            <p>The HC-05 Bluetooth Module has 6pins. They are as follows:</p>
                            <ul>
                            <li><b>ENABLE</b>:</li>
                            <p>When enable is pulled <b>LOW</b>, the module is disabled which means the module will <b>not turn on</b> and it <b>fails to communicate</b>.When enable is <b>left open or connected to 3.3V</b>, the module is enabled i.e the module <b>remains on</b> and <b>communication also takes place</b>.</p>
                            <li><b>Vcc:</b></li>
                            <p>Supply Voltage 3.3V to 5V</p>
                            <li><b>GND:</b></li>
                            <p>Ground Pin</p>
                            <li><b>TXD & RXD:</b></li>
                            <p>These two pins acts as an UART interface for communication</p>
                            <li><b>STATE:</b></li>
                            <p>It acts as a status indicator.When the module <b>is not connected to / paired</b> with any other bluetooth device,signal goes <b>Low</b>.At this <b>low state</b>,the <b>led flashes continuously </b>which denotes that the module is <b>not paired</b> with other device.When this module is <b>connected to/paired</b> with any other bluetooth device,the signal goes <b>High</b>.At this <b>high state</b>,the <b>led blinks with a constant delay</b> say for example 2s delay which indicates that the module is <b>paired</b>.</p>
                            <li><b>BUTTON SWITCH:</b></li>
                            <p>This is used to switch the module into AT command mode.To enable AT command mode,press the button switch for a second.With the help of AT commands,the user can change the parameters of this module but only when the module is not paired with any other BT device.If the module is connected to any other bluetooth device, it starts to communicate with that device and fails to work in AT command mode.</p></ul>
                            
                            <p><b>Hardware Features</b></p>
                            <ul>
                            <li>Typical ‐80dBm sensitivity.</li>
                            <li>Up to +4dBm RF transmit power.</li>
                            <li>3.3 to 5 V I/O.</li>
                            <li>PIO(Programmable Input/Output) control.</li>
                            <li>UART interface with programmable baud rate.</li>
                            <li>With integrated antenna.</li>
                            <li>With edge connector.</li></ul>
                            
                            <p><b>Software Features</b></p>
                            <ul>
                            <li>Slave default Baud rate: 9600, Data bits:8, Stop bit:1,Parity:No parity.</li>
                            <li>Auto‐connect to the last device on power as default.</li>
                            <li>Permit pairing device to connect as default.</li>
                            <li>Auto‐pairing PINCODE:”1234” as default.</li></ul>
                            <hr>
                            
                            <p><b>Schematic Diagram</b></p>
                            <img src="images/week13/0010.png" height="200">
                            <p>here we are connecting blutooth <b>VCC</b> connect <b>5v</b> , <b>GND</b>connect <b>GND</b> , <b>RXD</b> connect <b>TX</b> becasue The <b>transmitter should be talking to the receive</b>r, not to another transmitter , so the <b>TXD</b> connect <b>RX</b> .</p>
                            <hr>
                            <h3>Programming</h3>
                            <p>Here are we are using <b>Arduino IDE</b> , <b>Arduino Bootloader</b> to upload progarmme.we alredy burned bootloader so no need to do again also we use <b>Fab-ISP</b> as <b>usbTinyISP</b> progarmmer.</p>
                            
                            <p><b>Code</b></p>
                           <pre>
                           <code>
                           <pre>
<font color="#95a5a6">&#47;*</font>
<font color="#95a5a6"> &nbsp;&nbsp;Author :- Salman Faris</font>
<font color="#95a5a6"> &nbsp;&nbsp;Purpose :- ATtiny44 HC-05 Bluetooth Module Interface</font>
<font color="#95a5a6"> &nbsp;&nbsp;Date :- 23&#47;03&#47;2108</font>
<font color="#95a5a6">*&#47;</font>

<font color="#5e6d03">#include</font><font color="#434f54">&lt;</font><b><font color="#d35400">SoftwareSerial</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>
<font color="#5e6d03">#define</font> <font color="#000000">Rx</font> <font color="#000000">0</font>
<font color="#5e6d03">#define</font> <font color="#000000">Tx</font> <font color="#000000">1</font>
<b><font color="#d35400">SoftwareSerial</font></b> <font color="#000000">myserial</font><font color="#000000">(</font><font color="#000000">Rx</font><font color="#434f54">,</font> <font color="#000000">Tx</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#00979c">char</font> <font color="#000000">data</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;Variable for storing received data</font>
<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font>
<font color="#000000">{</font>
 &nbsp;<font color="#000000">myserial</font><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">9600</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;Sets the data rate in bits per second (baud) for serial data transmission</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">A3</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;Sets digital pin A3 as output pin</font>

<font color="#000000">}</font>
<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font>
<font color="#000000">{</font>
 &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">myserial</font><font color="#434f54">.</font><font color="#d35400">available</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#434f54">&gt;</font> <font color="#000000">0</font><font color="#000000">)</font> <font color="#434f54">&#47;&#47; Send data only when you receive data:</font>
 &nbsp;<font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">data</font> <font color="#434f54">=</font> <font color="#000000">myserial</font><font color="#434f54">.</font><font color="#d35400">read</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;Read the incoming data and store it into variable data</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">data</font> <font color="#434f54">==</font> <font color="#00979c">&#39;A&#39;</font><font color="#000000">)</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;Checks whether value of data is equal to &#34;A&#34;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">A3</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;<font color="#434f54">&#47;&#47;If value is &#34;A&#34; then LED turns ON</font>
 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">else</font> <font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">data</font> <font color="#434f54">==</font> <font color="#00979c">&#39;B&#39;</font><font color="#000000">)</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;Checks whether value of data is equal to &#34;B&#34;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">A3</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font> &nbsp;&nbsp;<font color="#434f54">&#47;&#47;If value is &#34;B&#34; then LED turns OFF</font>
 &nbsp;<font color="#000000">}</font>
<font color="#000000">}</font>


</pre>
                           </code>
                           </pre>
                            
                            <p>Bluetooth moulde is talking via <b>Serial communication</b> , but we don't have a Serial communication port in our <b>ATtiny44</b> so we implimneted <b>Software Serial</b>.</p>
                            <hr>
                            <h3>Demonstration</h3>
                            <p>For testing first we need to install applicaion on our mobile phone , <b>.apk</b> file can be download by clicking <b>Build</b> button on the top navigavtion panel.</p>
                            <img src="images/week13/0012.png">
                            <p>Building Apk will take less than one minute time.</p>
                            <img src="images/week13/0011.png" height="500">
                            <p>Download the <b>.apk</b> file and install it on your android phone.next upload bluetooth progarmme to your board and connect with bluetooth module.</p>
                            
                            <p><b>Application Demo</b></p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/M5OQrVb-FQ0?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                            
                            <p><b>Working Demo</b></p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/5vnlzivrh8A?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                            
                            <hr>
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            





                            
       
                            
                        <br><br><br>  
                        <center><h3><a href="week12.html" align="left"> &lt;Prev  </a> &nbsp &nbsp &nbsp <a href="week14.html" align="right">Next&gt;  </a></h3></center>
						</div>
					</div>
                
                

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
						
							<section>
								<h2>Follow</h2>
								<ul class="icons">
									<li><a href="https://twitter.com/salman_nbr" class="icon style2 fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="https://www.facebook.com/farissalmannbr" class="icon style2 fa-facebook"><span class="label">Facebook</span></a></li>
									<li><a href="https://www.instagram.com/sal_far_/" class="icon style2 fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="https://www.hackster.io/salmanfarisvp" class="icon style2 fa-dribbble"><span class="label">Dribbble</span></a></li>
									<li><a href="https://www.github.com/salmanfarisvp" class="icon style2 fa-github"><span class="label">GitHub</span></a></li>
									<li><a href="mailto:farissalmannbr@gmail.com" class="icon style2 fa-envelope-o"><span class="label">Email</span></a></li>
								</ul>
							</section>
							<ul class="copyright">
								<li>This work by Salman Faris is licensed under a <a herf="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</a></li>
							</ul>
						</div>
					</footer>

			</div>

        
        
        
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>