<!DOCTYPE HTML>

<html>
	<head>
		<title>Final Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="inner">

							<!-- Logo -->
								<a href="index.html" class="logo">
									<span class="symbol"></span><span class="title">Smart Waste Bin</span>
								</a>

							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>

						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a href="assignments.html">Assignments</a></li>
							<li><a href="finalproject.html">Final Project</a></li>
							<li><a href="aboutme.html">About Me</a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">
						<div class="inner">
                            <hr>
                            <h1>Smart Waste Bin</h1>
                            <p>In Fab Academy have to make a product using the machinery and skills we learned from Fab Academy. Actually, I am from Computer Science background and interested in doing embedded projects, I thought of making something use full for the society. One of the main problems in our Society is waste management, and my plane to make a device that can make the waste management's jobs very easy. Here my final project I going to Build an IoT Project, and it can also contribute to <b>Fab City</b> project.</p>
                            <h3>The Challenge</h3>
                            <p>The waste collection process is a critical aspect for the service providers. The traditional way of manually monitoring the wastes in waste bins is a complex, cumbersome process and utilizes more human effort, time and cost which is not compatible with the present day technologies. Irregular management of waste typically domestic waste, industrial waste and environmental waste is a root cause for many of the human problems such as pollution, diseases and has adverse effects on the hygiene of living beings. In order to overcome all these problems, we are proposing the idea of the smart waste management system which helps in auto-management of waste without human interaction in order to maintain a clean environment.</p><br>
                            <center><img src="images/week1/001.jpg"  width="60%"></center><br>
                            <p>Currently, most municipal waste collection operations focus on emptying containers according to predefined schedules at a set frequency. This system is inherently inefficient, with half-full bins being emptied, poor use of city assets, and unnecessary fuel consumption. Smart solutions—for tracking waste levels, route optimization, and operational analytics—offer municipalities and waste service managers the ability to optimize waste management services, reduce operational costs, and better address the environmental issues associated with inefficient waste collection.<br>Most waste companies still operate using a traditional collection process, whereby bins are lifted on fixed days and static routes. This is highly inefficient, as trucks drive a considerable distance to collect bins that aren’t full. while ignoring others that are overfilled.<br> As a result, logistics costs are too high, customer service is poor and carbon emissions are through the roof. <br> Root cause is the lack of visibility on bin ‘<b>demand</b>’. Wouldn’t it be great if bins could do the talking? This is now possible by <b>Internet of Things</b>.</p>
                            <hr>
                            
                            <h3>The Solution</h3>
                            <p>Sensor Based Waste Collection Bins is used to identify the status of waste bins if it is empty or filled so as to customize the waste collection schedule accordingly and also save the cost. The real-time waste management system by using smart bins to check the fill level of smart bins whether the dustbins are full or not, through this system the information of all smart bins can be accessed from anywhere and anytime by the concerned person. It will inform the status of each and every dustbin in real-time so that concerned authority can send the garbage collection vehicle only when the dustbin is full. By implementing this system resource optimization, cost reduction, effective usage of smart bins can be done.</p>
                            <center><img src="images/week1/004.jpg" width="70%"></center><br><br>
                            <p>The network of sensors enabled smart bins connected through the cellular network generates a large amount of data, which is further analyzed and visualized at real time to gain insights about the status of waste around the city.</p>
                            <center><img src="images/week1/003.png" width="70%"></center><br><br>
                            <hr>
                            
                            <h3>Benefits of using Smart Bins</h3>
                            <ul>
                            <li>It will stop overflowing of waste bins along roadsides and localities as smart-bins are managed at real-time.</li>
                            <li>The filling and cleaning time of smart bin will also be reduced thus making empty and clean dustbins available to common people.</li>
                            <li>By using the route algorithm it will smartly find the shortest route thus it will reduce the number of vehicles used for garbage collection.</li>
                            <li>Send optimized routes directly to drivers</li>
                            <li>It will reduce fuel Consumption.</li>
                            <li>Improved customer service by lifting bins that need a collection</li>
                            </ul>
                            <hr>
                            <h3>My Project Planning</h3>
                            <p>Project is divided in to <b>Five</b> categories ,</p>
                            <ul>
                                <li>Electronics</li>
                                <li>Programming</li>
                                <li>Application/Cloud Development</li>
                                <li>3D Designing</li>
                                <li>Mechanical Structure</li>
                            </ul>
                            <center><iframe src="https://trello.com/b/39OewTwD.html" width="100%" height="600" ></iframe></center>
                            
                            <hr>
                            <h3>Electronics</h3>
                            <p><b><u>Block diagram</u></b></p>
                            <center><img src="images/finalproject/block.png" height="500"></center><br>
                            
                            <p><b><u>Sensor Module</u></b><br>
                            Finding the suitable electronics components for my project is a challenge, So I started searching for good <b>Distance Sensor</b>, and I found that most of the modules have a huge price tag, and I found <b>HC-SR04 </b>is the one with low price and moderate accuracy and it's available in the local market. and in the <a href="week11.html"><b>input week</b></a>, I tested it with the <b>Atmel ATtiny45 </b>and I built a miniature WasteBin Model . and it's worked as expected to measure the waste level.</p><br>
                            <center><img src="images/week11/0027.jpg" height="400"> <iframe width="645" height="400" src="https://www.youtube.com/embed/Z75R9RgpLI0?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></center>
                            <br><p>For more details about the miniature WasteBin Model check my <a href="week11.html"><b>Input Week</b></a> page.</p>
                            
                            <p><b><u>SoC / Microcontroller Module</u></b><br>
                           Normal Atmel AVR microcontrollers not suitable for my project, because it doesn't have any inbuilt connectivity and I need to send sensor data to the server, so choose ESP8266 WiFi SoC (System on Chip) because I did some experiments using its development board Nodemcu and it's well suitable for me and it's very cheap .</p>
                           <center><img src="images/finalproject/esp8266.jpg" height="300">
                           <img src="images/finalproject/esp826602.png"></center><br>
                           <p>ESP8266 is powerd by  Tensilica L106 integrates industry-leading ultra low power 32-bit MCU micro, with the 16-bit short mode, and Clock speed support 80 MHz, 160 MHz, supports the RTOS, integrated Wi-Fi MAC/BB/RF/PA/LNA, on-board antenna . In overall we don't need to use any other MCU in order build our Internet Connected Product (<a href="https://www.kloppenborg.net/images/blog/esp8266/esp8266-esp12e-specs.pdf">Datasheet</a>)</p>
                          
                        <p>normally esp8266 comes as a NodeMCU Development board. but I don't want to use the development board, I want to build a custom board for my product, so i googled a lot of time but no luck didn't find any minimal schematic, so I built one based on the dashboard. and i opensource in GitHub. here you can find <a herf="https://github.com/salmanfarisvp/esp8266">ESP8266 12-E GitHub Repo</a> </p>
                            
                        <p><u><b>Power Supply Unit</b></u><br>
                        ESP8266 need <b>3.3 v</b> so I used <b>NCP1117</b> LDO Voltage Regulator with <b>9v</b> Alcaline battery.</p>
                        <center><img src="images/finalproject/1117.jpg" height="400"> <img src="images/finalproject/9v.jpg" height="400"></center><br>
                        <hr>
                        <h3>PCB Designing</h3>
                        <p>I satretd Design with eagle .In ESP8266 we can't really use every pin , config's are controlled by some pin's that's like fuse bit's in the AVR microcontrollers, so first i designed a <b>Minimum Config</b> ESP8266 Board that can switch between <b>UART Download Mode</b> and <b>Flash Boot Mode</b> .and i used <b>9v battery</b> with <b>NCP1117</b> 3.3v Regulator. </p>
                        <center><img src="images/finalproject/espboot.png"></center><br>
                        <center><p><b>ESP8266 Minimum Config Design</b></p></center>
                        <center><img src="images/finalproject/ESP8266_min01.png" height=500></center>
                        <p>Sourec file :- <a herf="https://github.com/salmanfarisvp/esp8266">https://github.com/salmanfarisvp/esp8266</a></p>
                        <p>I added two buttons , One for <b>Flash</b> and one for <b>Reset</b>.if we want to upload progarmme then press the Reset button with Flash button ,and relese both then we enter in to Downloading mode, after uploading code we need to make it Flash boot mode by just pressing reset button. </p>
                        <center><p><b>Power Supply Unit</b></p></center>
                        <center><img src="images/finalproject/ESP8266_min02.png" height="400"></center><br>
                        <p>I added <b>Slide Switch</b> between the ESP and Voltage Regulator , so we can save power by turn off the device when it's not using .also addde <b>10 uf</b> capacitor between power lines as fillters.</p>
                        <p>For <b>HCSR04</b> Distance sensor we need two I/O pins , <b>Echo</b> and <b>Trig</b>. so first i used ESP8266 <b>GPIO 9</b> and <b>GPIO 10</b> used . after milling and loaded a sample programme i found that ESP is keep reseting automatically , and after deep googling i found that we can't use GPIO10 and GPIO9 i <b>Arduino</b> it will ends up in <b>WDT</b> (watchdog timer) resets because GPIO9 is internally used to control the flash memory. GPIO10 can be used as input only (Github issue :- <a href="https://github.com/esp8266/Arduino/issues/1446">https://github.com/esp8266/Arduino/issues/1446</a>). so i re-designed the Sensor pinouts in to <b>GPIO5 and GPIO4</b> and you can find more details about PCB milling in my <a href="week7.html">Electronics Design</a> week.</p><br>
                        <center><b><p><u>PCB Schematic</u></p></b></center>
                        <center><img src="images/finalproject/schematics.png" height="600"></center><br>
                        <center><b><p><u>PCB Board Design</u></p></b></center>
                        <center><img src="images/finalproject/pcbboard.png" height="600"></center><br>
                        
                        <hr>
                        <h4>PCB milling and Soldering</h4>
                        <p>I added a Screw hole to secure it with the enclosure .and i used <b>1/64</b> bit for milling and <b>1/32</b> bit for cutting and here you can find more details about PCB milling in my <a href="week5.html">Electronics Production</a> week.</p>
                        <center><p><b>Milling</b></p></center>
                        <center><img src="images/finalproject/pcb.jpg" height="550"></center><br>
                        <center><p><b>Component Soldering</b></p></center>
                        <center><img src="images/finalproject/pcb001.jpg" height="500"></center><br>
                        <hr>
                        <center><p><b><u>Bill of materials</u></b></p></center>    
<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;border-color:#aabcfe;}
.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#aabcfe;color:#669;background-color:#e8edff;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#aabcfe;color:#039;background-color:#b9c9fe;}
.tg .tg-l711{border-color:inherit}
.tg .tg-us36{border-color:inherit;vertical-align:top}
.tg .tg-yw4l{vertical-align:top}
</style>
<table class="tg">
  <tr>
    <th class="tg-l711">Sl.No</th>
    <th class="tg-l711">Components</th>
    <th class="tg-l711">Qty(Nos)</th>
    <th class="tg-l711">Cost per Item ₹ (INR)</th>
    <th class="tg-l711">Total Price<br></th>
  </tr>
  <tr>
    <td class="tg-l711"> 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
    <td class="tg-l711">ESP8266-12E</td>
    <td class="tg-l711">1</td>
    <td class="tg-l711">150</td>
    <td class="tg-l711">150</td>
  </tr>
  <tr>
    <td class="tg-l711">2</td>
    <td class="tg-l711">HCSR04- Ultrasonic Sensor</td>
    <td class="tg-l711">1</td>
    <td class="tg-l711">90</td>
    <td class="tg-l711">90</td>
  </tr>
  <tr>
    <td class="tg-l711">3</td>
    <td class="tg-l711">NCP1117 3.3v - SOT223</td>
    <td class="tg-l711">1</td>
    <td class="tg-l711">20</td>
    <td class="tg-l711">20</td>
  </tr>
  <tr>
    <td class="tg-l711">4</td>
    <td class="tg-l711">LED RED - 1206 SMD</td>
    <td class="tg-l711">1</td>
    <td class="tg-l711">5</td>
    <td class="tg-l711">5</td>
  </tr>
  <tr>
    <td class="tg-us36">5</td>
    <td class="tg-us36">Push Button - 3112P SMD</td>
    <td class="tg-us36">2</td>
    <td class="tg-us36">10</td>
    <td class="tg-us36">20</td>
  </tr>
  <tr>
    <td class="tg-us36">6</td>
    <td class="tg-us36">Slide Switch - SDPT SMD</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">25</td>
  </tr>
  <tr>
    <td class="tg-us36">7</td>
    <td class="tg-us36">Capacitor 10uf - 1206 SMD</td>
    <td class="tg-us36">2</td>
    <td class="tg-us36">4</td>
    <td class="tg-us36">8</td>
  </tr>
  <tr>
    <td class="tg-us36">8</td>
    <td class="tg-us36">Capacitor 0.1uf - 1206 SMD</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">4</td>
    <td class="tg-us36">4</td>
  </tr>
  <tr>
    <td class="tg-us36">9</td>
    <td class="tg-us36">Resistor 10k - 1206 SMD</td>
    <td class="tg-us36">5</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">5</td>
  </tr>
  <tr>
    <td class="tg-us36">10</td>
    <td class="tg-us36">Resistor 0k - 1206 SMD</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">1</td>
  </tr>
  <tr>
    <td class="tg-us36">11</td>
    <td class="tg-us36">FTDI Male Header - SMD</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">10</td>
    <td class="tg-us36">10</td>
  </tr>
  <tr>
    <td class="tg-us36">12</td>
    <td class="tg-us36">Female Pinhead 1x4 </td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">5</td>
    <td class="tg-us36">5</td>
  </tr>
  <tr>
    <td class="tg-us36">13</td>
    <td class="tg-us36">Terminal 2 Pos - SMD</td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">10</td>
    <td class="tg-us36">10</td>
  </tr>
  <tr>
    <td class="tg-us36">14</td>
    <td class="tg-us36">Battery 9V </td>
    <td class="tg-us36">1</td>
    <td class="tg-us36">30</td>
    <td class="tg-us36">30</td>
  </tr>
  <tr>
    <td class="tg-yw4l" colspan="2">Total Cost Of componenets in ₹ (INR)</td>
    <td class="tg-yw4l" colspan="3">₹ 383 or $ 5.62</td>
  </tr>
</table>
                        <br>
                            
                        
                        
                        <hr>
                        <h3>Programming</h3>
                        <p>For Programming i used <b>Arduino IDE</b> and <b>Arduino Core</b>bootloader.for communication i used <b>MQTT</b> Protocol with ESP in-built WiFi <b>TCP stack</b>.<br>
                        before using ESP with Arduino IDE we need to flash it with <b>NodeMCU</b> firmware , download the tool from <a href="https://github.com/nodemcu/nodemcu-flasher"> nodemcu-flasher github repo.</a> if you are using windows open the <b>.exe</b> file and select the <b>Nodemcu binaray</b> (in default it's automatically selected).then click flash.heryou go , it's done.</p>
                        <p><b><u>NodeMCU flashing Guide</u></b><br>
                        You MUST set GPIO0 to LOW before programming it can be done by pressing the <b>Flash</b> Button on our Board</p>
                            
                        <ul>
                        <li>Just click flash and you can burn firmware to ESP8266. Before you doing it,Press the <b>Flash</b> Button.</li> 
                        <img src="images/finalproject/NodeMCU-Flasher-Begin.png"><br>
                        <li>Select NodeMCU Flash Binaray (in default it's automatically selected NodeMCU binary)</li>
                        <img src="images/finalproject/NodeMCU-Flash003.png"><br>
                        <li>And wait a moment.</li>
                        <img src="images/finalproject/NodeMCU-Flasher002.png"><br>
                        <li>Program success.</li>
                        <img src="images/finalproject/NodeMCU-Flasher-Success.png"><br>
                        </ul>
                            
                        <p>Now we are successfully flashed <b>NodeMCU</b> firmware, next we are going setup the <b>Arduino IDE</b> to Programme the <b>ESP8266</b>.</p>
                        <p><b><u>Arduino IDE configuration</u></b></p>
                        <ul>
                        <li><b>First</b> Install Arduino IDE (link :- <a herf="https://www.arduino.cc/en/Main/Software">https://www.arduino.cc/en/Main/Software</a>)</li>
                        <img src="images/finalproject/arduinoide001.PNG"><br>
                            
                        <li>Set <b>additional Board UR</b>L for ESP8266/NodeMCU</li>
                        <code>File => Preference (Ctrl + Comma)</code><br><br>
                        <img src="images/finalproject/arduinoide002.jpg"><br>
                        <li>In Additional Boards Manager, click add and paste the URL there: <code>http://arduino.esp8266.com/stable/package_esp8266com_index.json</code> And click <b>OK</b>.</li><br>
                        <img src="images/finalproject/arduinoide003.jpg"><br>
                        <img src="images/finalproject/arduinoide004.jpg"><br><br>
                            
                        <li>Download ESP8266/NodeMCU Board Definitions</li>
                        <p>Open Board Manager by going to <code>Tools => Board => Boards Manger</code>.</p>
                         <img src="images/finalproject/arduinoide005.jpg"><br>
                        <p>Open Boards Manager and search for <b>NodeMCU</b>.</p>
                        <img src="images/finalproject/arduinoide006.jpg"><br><br>
                        <p>It only appears if you set the NodeMCU Board URL , Now Arduino IDE ready to programme esp8266 boards.  </p>
                        </ul>
                        <hr>
                        <p><b><u>HCSR04 Test</u></b></p>
                        <p>Here we are try to measure Distance using <b>HCSR04</b></p>
                        <pre>
                        <code>
                        <pre>
<font color="#95a5a6">&#47;*</font>
<font color="#95a5a6"> * Salman Faris</font>
<font color="#95a5a6"> * HCSR04 - Test with ESP8266 Board</font>
<font color="#95a5a6"> *&#47;</font>

<font color="#5e6d03">#define</font> <font color="#000000">trigPin</font> <font color="#000000">D1</font> &nbsp;&nbsp;<font color="#434f54">&#47;&#47;Pin-14 GPIO5</font>
<font color="#5e6d03">#define</font> <font color="#000000">echoPin</font> <font color="#000000">D2</font> &nbsp;&nbsp;<font color="#434f54">&#47;&#47;pin-13 GPIO4</font>

<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>


 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">115200</font><font color="#000000">)</font><font color="#000000">;</font> 
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">echoPin</font><font color="#434f54">,</font> <font color="#00979c">INPUT</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#000000">}</font>


<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>

 &nbsp;<font color="#00979c">long</font> <font color="#000000">duration</font><font color="#434f54">,</font> <font color="#000000">distance</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">2</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">duration</font> <font color="#434f54">=</font> <font color="#d35400">pulseIn</font><font color="#000000">(</font><font color="#000000">echoPin</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">distance</font> <font color="#434f54">=</font> <font color="#000000">(</font><font color="#000000">duration</font> <font color="#434f54">&#47;</font> <font color="#000000">2</font><font color="#000000">)</font> <font color="#434f54">&#47;</font> <font color="#000000">29.1</font><font color="#000000">;</font>

 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">distance</font><font color="#000000">)</font><font color="#000000">;</font>



<font color="#000000">}</font>


</pre>
                        </code>
                        </pre><br>
                        <p>ESP8266 is need <b>3.3 v</b> and morthan 3.3 voltage will damage our ESP, so for uploading code we need to use <b>3.3v FTDI</b>. </p>
                        <center><img src="images/finalproject/ftdicable.jpg" height="400"></center>
                        <p>To make Uploading mode we need press the <b>Flash</b> button and press and relese the <b>RESET</b> button , and It's worked without any error .</p>
                        
                        <hr>
                        
                        <h3>MQTT</h3>
                        <p>I choosed <b>MQTT</b> (Message Queuing Telemetry Transport) protocol  other than traditional <b>HTTP</b>,because it is special a machine-to-machine (M2M)/"Internet of Things" connectivity protocol. It was designed as an extremely lightweight publish/subscribe messaging transport. It is useful for connections with remote locations where a small code footprint is required and/or network bandwidth is at a premium.(link :- <a href="http://mqtt.org/">http://mqtt.org/</a>). </p>
                        <center><p><b><u>Architecture</u></b></p></center>
                        <center><img src="images/finalproject/mqtt.svg" height="400"></center><br>
                        <p>The publish-subscribe messaging pattern requires a message broker.so here am using <b>Mosquitto</b> in <b>Microsoft Azure</b> </p>
                        <hr>
                        <p><b><u>Installing Broker on Microsoft Azure</u></b></p>
                        <p>I choosed <b>Ubuntu 17.10</b> as my Virtual Machine in Azure</p>
                        <center><img src="images/finalproject/server001.PNG" height="400"><img src="images/finalproject/azure001.png" height="500"></center><br><br>
                        <p>I accessed <b>VM</b> by <b>SSH</b> and i used <b>Putty</b> as SSH Client.</p>
                        <center><img src="images/finalproject/server003.PNG" height="400"><img src="images/finalproject/server002.PNG" height="400">
                        </center><br>
                        <p>First i installed <b>Mosquitto broker</b> by typing <code>sudo apt-get install mosquitto</code>,<br>
                        <center><img src="images/finalproject/server004.PNG"></center><br>
                        and i installed <b>Mosquitto Clinet</b> by typing <code>sudo apt-get install mosquitto-client</code>.<br><br>
                        <center><img src="images/finalproject/server005.PNG"></center></p>
                        <p>Now we are successfully installed <b>MQTT Broker</b> on Azure VM.next we set our <b>Sensor</b> Module as <b>MQTT Subscriber</b> .</p>
                        <p><b>MQTT</b> is using <b>1883</b> TCP port , so in azure we need to open the port by adding <b>inbound security rule</b> in <b>Virtual Machine Network</b> Settings. </p>
                        <center><img src="images/finalproject/nodered001.png" height="400"></center>
                        
                        <hr>
                        <p><b><u>Send data to Server</u></b></p>
                        <p>Now we are going to send <b>Sensor</b> data to our <b>Azure</b> server by using <b>MQTT Broker</b>, and here am using arduino <b>PubSubClinet</b> library (source :- <a herf="https://github.com/knolleary/pubsubclient">https://github.com/knolleary/pubsubclient</a>) for <b>Publishing</b> sensor data to server.</p>
                        <p><b>Sensor-node Code</b></p>
                        
                        <pre>
                        <code>
                        <pre>
<font color="#95a5a6">&#47;**</font>
<font color="#95a5a6"> &nbsp;&nbsp;Poject :- Planet Bin</font>
<font color="#95a5a6"> &nbsp;&nbsp;Author :- Salman Faris</font>
<font color="#95a5a6"> &nbsp;&nbsp;Sensor-node id :- #001</font>
<font color="#95a5a6">**&#47;</font>


<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><font color="#d35400">ESP8266WiFi</font><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>
<font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><b><font color="#d35400">PubSubClient</font></b><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font>


<font color="#00979c">const</font> <font color="#00979c">char</font><font color="#434f54">*</font> <font color="#000000">ssid</font> <font color="#434f54">=</font> <font color="#005c5f">&#34;******************&#34;</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47;Wifi SSID</font>
<font color="#00979c">const</font> <font color="#00979c">char</font><font color="#434f54">*</font> <font color="#000000">password</font> <font color="#434f54">=</font> <font color="#005c5f">&#34;*************&#34;</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47;WiFi Password</font>


<font color="#00979c">const</font> <font color="#00979c">char</font><font color="#434f54">*</font> <font color="#000000">mqtt_server</font> <font color="#434f54">=</font> <font color="#005c5f">&#34;104.215.155.129&#34;</font><font color="#000000">;</font> <font color="#434f54">&#47;&#47;Sever IP Address</font>

<font color="#d35400">WiFiClient</font> <font color="#000000">espClient</font><font color="#000000">;</font>
<b><font color="#d35400">PubSubClient</font></b> <font color="#d35400">client</font><font color="#000000">(</font><font color="#000000">espClient</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#5e6d03">#define</font> <font color="#000000">trigPin</font> <font color="#000000">D1</font> &nbsp;&nbsp;<font color="#434f54">&#47;&#47;Pin-14 | GPIO5 </font>
<font color="#5e6d03">#define</font> <font color="#000000">echoPin</font> <font color="#000000">D2</font> &nbsp;&nbsp;<font color="#434f54">&#47;&#47;Pin-13 | GPIO4</font>


<font color="#00979c">long</font> <font color="#000000">now</font> <font color="#434f54">=</font> <font color="#d35400">millis</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
<font color="#00979c">long</font> <font color="#000000">lastMeasure</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font>


<font color="#00979c">void</font> <font color="#000000">setup_wifi</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#434f54">&#47;&#47; We start by connecting to a WiFi network</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;Connecting to &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">ssid</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">WiFi</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">ssid</font><font color="#434f54">,</font> <font color="#000000">password</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#5e6d03">while</font> <font color="#000000">(</font><b><font color="#d35400">WiFi</font></b><font color="#434f54">.</font><font color="#d35400">status</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#434f54">!=</font> <font color="#000000">WL_CONNECTED</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">500</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;.&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">}</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34;&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;WiFi connected - ESP IP address: &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><b><font color="#d35400">WiFi</font></b><font color="#434f54">.</font><font color="#d35400">localIP</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
<font color="#000000">}</font>


<font color="#00979c">void</font> <font color="#000000">callback</font><font color="#000000">(</font><font color="#00979c">String</font> <font color="#000000">topic</font><font color="#434f54">,</font> <font color="#00979c">byte</font><font color="#434f54">*</font> <font color="#000000">message</font><font color="#434f54">,</font> <font color="#00979c">unsigned</font> <font color="#00979c">int</font> <font color="#d35400">length</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;Message arrived on topic: &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">topic</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;. Message: &#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#00979c">String</font> <font color="#000000">messageTemp</font><font color="#000000">;</font>

 &nbsp;<font color="#5e6d03">for</font> <font color="#000000">(</font><font color="#00979c">int</font> <font color="#000000">i</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font> <font color="#000000">i</font> <font color="#434f54">&lt;</font> <font color="#d35400">length</font><font color="#000000">;</font> <font color="#000000">i</font><font color="#434f54">++</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#000000">(</font><font color="#00979c">char</font><font color="#000000">)</font><font color="#000000">message</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">messageTemp</font> <font color="#434f54">+=</font> <font color="#000000">(</font><font color="#00979c">char</font><font color="#000000">)</font><font color="#000000">message</font><font color="#000000">[</font><font color="#000000">i</font><font color="#000000">]</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">}</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
<font color="#000000">}</font>

<font color="#00979c">void</font> <font color="#000000">reconnect</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<font color="#434f54">&#47;&#47; Loop until we&#39;re reconnected</font>
 &nbsp;<font color="#5e6d03">while</font> <font color="#000000">(</font><font color="#434f54">!</font><font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">connected</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;Attempting MQTT connection...&#34;</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">connect</font><font color="#000000">(</font><font color="#005c5f">&#34;ESP8266Client&#34;</font><font color="#000000">)</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34;connected&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; Subscribe or resubscribe to a topic</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; You can subscribe to more topics (to control more LEDs in this example)</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">subscribe</font><font color="#000000">(</font><font color="#005c5f">&#34;wastebin1&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font> <font color="#5e6d03">else</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#005c5f">&#34;failed, rc=&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">print</font><font color="#000000">(</font><font color="#d35400">client</font><font color="#434f54">.</font><font color="#000000">state</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#005c5f">&#34; try again in 5 seconds&#34;</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">&#47;&#47; Wait 5 seconds before retrying</font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">5000</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">}</font>
 &nbsp;<font color="#000000">}</font>
<font color="#000000">}</font>


<font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">115200</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">setup_wifi</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">setServer</font><font color="#000000">(</font><font color="#000000">mqtt_server</font><font color="#434f54">,</font> <font color="#000000">1883</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">setCallback</font><font color="#000000">(</font><font color="#000000">callback</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">OUTPUT</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">pinMode</font><font color="#000000">(</font><font color="#000000">echoPin</font><font color="#434f54">,</font> <font color="#00979c">INPUT</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#000000">}</font>
<font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#000000">{</font>

 &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#434f54">!</font><font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">connected</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">)</font> <font color="#000000">{</font>
 &nbsp;&nbsp;&nbsp;<font color="#000000">reconnect</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">}</font>
 &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#434f54">!</font><font color="#d35400">client</font><font color="#434f54">.</font><font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">)</font>
 &nbsp;&nbsp;&nbsp;<font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">connect</font><font color="#000000">(</font><font color="#005c5f">&#34;ESP8266Client&#34;</font><font color="#000000">)</font><font color="#000000">;</font>


 &nbsp;<font color="#00979c">long</font> <font color="#000000">duration</font><font color="#434f54">,</font> <font color="#000000">distance</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">2</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">delayMicroseconds</font><font color="#000000">(</font><font color="#000000">10</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">digitalWrite</font><font color="#000000">(</font><font color="#000000">trigPin</font><font color="#434f54">,</font> <font color="#00979c">LOW</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">duration</font> <font color="#434f54">=</font> <font color="#d35400">pulseIn</font><font color="#000000">(</font><font color="#000000">echoPin</font><font color="#434f54">,</font> <font color="#00979c">HIGH</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#000000">distance</font> <font color="#434f54">=</font> <font color="#000000">(</font><font color="#000000">duration</font> <font color="#434f54">&#47;</font> <font color="#000000">2</font><font color="#000000">)</font> <font color="#434f54">&#47;</font> <font color="#000000">29.1</font><font color="#000000">;</font>

 &nbsp;<b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">println</font><font color="#000000">(</font><font color="#000000">distance</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#00979c">int</font> <font color="#000000">data2</font> <font color="#434f54">=</font> <font color="#000000">80</font> <font color="#434f54">-</font> <font color="#000000">distance</font> <font color="#000000">;</font>

 &nbsp;<font color="#00979c">char</font> <font color="#000000">distance1</font><font color="#000000">[</font><font color="#000000">7</font><font color="#000000">]</font><font color="#000000">;</font>
 &nbsp;<font color="#00979c">char</font> <font color="#000000">data3</font><font color="#000000">[</font><font color="#000000">7</font><font color="#000000">]</font><font color="#000000">;</font>


 &nbsp;<font color="#000000">dtostrf</font><font color="#000000">(</font><font color="#000000">distance</font><font color="#434f54">,</font> <font color="#000000">6</font><font color="#434f54">,</font> <font color="#000000">2</font><font color="#434f54">,</font> <font color="#000000">distance1</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#000000">dtostrf</font><font color="#000000">(</font><font color="#000000">data2</font><font color="#434f54">,</font> <font color="#000000">6</font><font color="#434f54">,</font> <font color="#000000">2</font><font color="#434f54">,</font> <font color="#000000">data3</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">publish</font><font color="#000000">(</font><font color="#005c5f">&#34;wastebin1&#34;</font><font color="#434f54">,</font> <font color="#000000">distance1</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">500</font><font color="#000000">)</font><font color="#000000">;</font>
 &nbsp;<font color="#d35400">client</font><font color="#434f54">.</font><font color="#d35400">publish</font><font color="#000000">(</font><font color="#005c5f">&#34;wastebin2&#34;</font><font color="#434f54">,</font> <font color="#000000">data3</font><font color="#000000">)</font><font color="#000000">;</font>

 &nbsp;<font color="#d35400">delay</font><font color="#000000">(</font><font color="#000000">2000</font><font color="#000000">)</font><font color="#000000">;</font>

<font color="#000000">}</font>


</pre>
                        </code></pre>
                        
                        <p>For checking i <b>Subscribed </b> the same MQTT topic that we used for sending the Sensor data.</p>
                        <center><img src="images/finalproject/server006.png"></center><br>
                        <p>Now we can see that data, that coming from the Sensor Module in our VirtualMachine Shell.but it's not a user friendly UI ,so next we are going design a dashboard with rich <b>User Interface</b> . </p>
                        
                        <hr>
                        <h3>Dashboard Devlopment</h3>
                        <p>We need a dashboard to display all the necessary data that come from the sensor nodes, also we need a admin panel to ensure all the thing going well. For this purpose i used <b>Node-RED</b></p>
                        <p><b><u>Node-RED</u></b></p>
                        <p>Node-RED is a programming tool for wiring together hardware devices, APIs and online services in new and interesting ways.It provides a browser-based editor that makes it easy to wire together flows using the wide range of nodes in the palette that can be deployed to its runtime in a single-click.It's Great for raspid application developmnet.First i experiment with Node-RED on <b>Raspberry PI</b> but it's limited scope due to local network connection , so i going to run this on my <b>Linux VM</b> so we can monitor the data anywhere in the world . </p>
                        <p><b><u>Node-RED Installation on Azure</u></b></p>
                        <p>First we need to open port <b>1880</b> for Node-RED in auzre , i can done by adding <b>inbound security rule</b> in azure vm <b>Network Settings</b>.</p>
                        <center><img src="images/finalproject/nodered002.png" height="500"></center><br>
                        <p>After i installed <b>NodeJS</b> and <b>NPM</b> (Node Package Manager).it can be done by typing this commands </p>
                        <pre>
                        <code>
curl -sL https://deb.nodesource.com/setup_4.x | sudo -E bash -
sudo apt-get install -y nodejs build-essential
                        </code>
                        </pre>
                        
                        <center><img src="images/finalproject/nodered003.png" height="300"> 
                        <img src="images/finalproject/nodered004.png" height="300"></center><br>
                        <p>After that we can install <b>Node-RED</b> by typing <code>sudo npm install -g node-red</code></p>
                        <center><img src="images/finalproject/nodered005.png"></center><br>
                            
                        <p>Now we successfully installed <b>Node-RED</b>, let's check it run the node-red by typing <code>node-red</code> after that you can see that node-red running in the shell.</p>
                        <center><img src="images/finalproject/nodered006.PNG"></center><br>
                        <p>to view the <b>Node-RED dashbord</b> , open browser and go to <code>http://ip-address:1880</code> , replace the ip address , <br>in my case it's <code>http://104.215.155.129:1880/</code></p>
                        <center><img src="images/finalproject/nodered007.png" height="500"></center><br>
                        <p>In the left you can see the <b>Nodes</b> section and in the middile is the <b>Flow Screen</b><br>
                        <center><img src="images/finalproject/nodered008.jpg"></center>  
                        <p>Next we need to setup appropriate <b>nodes</b> based what we need.so here we are using <b>MQTT</b> so first we are going to add , <b>MQTT</b> and after we are setting the appropriate <b>node-pallets</b></p><br>
                        <center><iframe width="660" height="415" src="https://www.youtube.com/embed/IuZquED7IYc?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></center><br>
                        <p>here you can see how i added the pallets into the dashboard .</p>
                        <center><img src="images/finalproject/dashboardp.png" height="500"></center>
                        
                        <hr>
                        <p><b><u>Planetbin.tk domain</u></b></p>
                        <p>I used Server IP address in-order to work with node-red , now i just adding the custom domain in my server.i used <b>Freenom</b>to get my <b>custom domain</b>and <b>DNS</b> , it's free of cost for one year .</p>
                        <center><img src="images/finalproject/domain.png" height="500"></center><br>
                        <p>Now we can access dashboard using <a href="http://planetbin.tk:1880/ui">Planetbin.tk</a> from anywhere</p>
                        <hr>
                        <p><b><u>User Interface Design</u></b></p>
                        <p>I just builded a basic <b>UI</b> using <b>Node-RED-Dashbord</b> pallets.</p>
                        <center><img src="images/finalproject/dashboard.png" height="500"></center>
                        <hr>
                        <p><b><u>Mobile App</u></b></p>
                        <p>I devloped <b>Android App</b> for clinet users ,it's based on the webview of Node-RED Dashboard.</p>
                        <center><img src="images/finalproject/mobileapp.jpg" height="500"></center><br>
                        <hr>
                        <p><b><u>PlanetBin.tk Project Website</u></b></p>
                        <p>I Devloped a Website for my Final Prject and hosted in the Azure Linux VM.I used simple html and CSS to build this website and I also referred an open source free template to build the site.</p>
                        <center><img src="images/finalproject/planetbin.png" width="80%"></center><br>
                        <hr>
                        <h3>3D Enclosure Designing</h3>
                        <p>Our Software side is now completed , now we need a <b>Enclosure</b> for the Sensor node. so my plan is to <b>3D print</b> the case , so i staretd to design Enclosure in <b>Fusion360</b>.First i created a <b>3D Design</b> of PCB and component using <b>Eagle Fusion Sync</b> .and I also exported the ultrasonic and 9V battery 3D model from GrabCAD.then is joind all the models with my pcb as like the real module.you can refer my <a href="week6.html">3D SCANNING AND PRINTING</a> week documentation .</p>
                        <center><img src="images/finalproject/3dmodel001.png" height="500"></center><br>
                        <center><img src="images/finalproject/3dmodel002.png" height="550"></center><br>
                        <p>This is a how it's looks after rendering .i used <b>Fusion360</b> for rendering this. now we have the 3D Design of our Sensor Module , so now we can easly make the enclosure based the module reference.First I imported the <b>9V Battery</b> holder from GrabCad .</p>
                        <center><img src="images/finalproject/3dmodel003.png" height="500"></center>
                        <center><img src="images/finalproject/Screenshot_2.png" height="500"></center>
                        <center><img src="images/finalproject/Screenshot_3.png" height="500"></center><br>
                        <p>After that I Creatd a Bottom Enclosure based on the battery holder.and also added screw hols at this bottom part so we can mount it on wastebin .I just putted the 9v battery in to the enclosure to make sure everything is working perfect .and I also mounted <b>Sensor Module</b> on the Enclosure , so we can also check the size of the box and holes correctly.  </p>
                        <center><img src="images/finalproject/Screenshot_4.png" height="500"></center><br>
                        <p>This is acutally help me in give a space for the 9v battery clip , in my first design it not fit becasue of the 9v battery Clip is stuck,so first i added the battery clip 3D Design and expanded the Enclosure a little bit. actually <b>Fusion Sync</b>  was very helpfull when it's comes to production like this.</p>
                        <center><img src="images/finalproject/Screenshot_5.png" height="500"></center><br>
                        <p>After the main base design , I designed the top part with reference of <b>Ultrasonic sensor</b> .add two hole for the ultrasonic sensor  .</p>
                        <center><img src="images/finalproject/Screenshot_8.png" height="500"></center><br>
                        <p>I added a  mounting part in <b>Top</b> and <b>Base</b> for other side i used screw holes , that means i only need to use two screw to secure the top part and base part.</p>
                        <center><img src="images/finalproject/Screenshot_10.png" height="500"></center>
                        <p>This is my completed Enclosure with PCB added inside. </p><br>
                        
                        <center><p><b><u>Exploded View</u></b></p></center>
                        <center><img src="images/finalproject/3dmodel004.png" height="600"></center><br>
                        <center><p><b><u>3D Design Video log</u></b></p></center>
                        <center><iframe width="660" height="415" src="https://www.youtube.com/embed/Gz4o1gKiEIY?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></center><br>
                        <center><p><b><u>Rendered Image</u></b></p></center>
                        <center><img src="images/finalproject/wastebin_rendere.png" width="100%"></center>
                        <hr>
                        <h3>3D Printing</h3>
                        <p>I exported the 3D designes as <b>STL</b> file for 3D printing .I used <b>Dimension</b> 3D printer , it using ABS Fillament .for slicing i used <b>catalystEX</b> software.</p>
                        <center><img src="images/finalproject/3dmodel005.png" height="500"></center><br>
                        <p>It's took almost <b>7</b> hours to print the both parts , after printing we need to remove the support matrial using the support removel solution.</p>
                        <center><img src="images/finalproject/3dprint001.jpg" height="500"><img src="images/finalproject/3dprint002.jpg" height="500"></center><br>
                        <p>It took 4 hours to melt the support matrial from the model.after that I tested with 9v battery to check everything working great.also tried with the PCB and it's fitted perfectly. </p>
                        <center><img src="images/finalproject/3dprint003.jpg" height="500"> <img src="images/finalproject/3dprint004.jpg" height="500"></center><br>
                        <center><P><b><u>3D Printed Enclosure</u></b></P></center>
                        <center><img src="images/finalproject/3dprint005.jpg" height="800"></center><br>
                        <hr>
                        <h3>vinyl printing</h3>
                        <p>Next I did the vinyl printing on the top of the 3D model .I used <b>Inkscape</b> to draw the Text and Logo.for more details about the Vinyl cutting you can refer my <a href="week3.html">COMPUTER-AIDED DESIGN</a> week documentation .I used <b>Roland CAMM1-Servo</b> Vinaly cutter to do this job.</p>
                        <center><img src="images/finalproject/logo001.png"> <img src="images/finalproject/logo002.png"></center><br>
                        <center><img src ="images/finalproject/logo004.jpg" height="500"> <img src="images/finalproject/logo005.jpg" height="500"></center>
                        <p>I cutted <b>PLANETBIN.TK</b> name, due to large font I removed the .tk part , after the sticker cutting I placed it on the 3D Model using a <b>Masking tape</b>.</p>
                        <center><img src="images/finalproject/logo006.jpg" height="500"> <img src="images/finalproject/logo007.jpg" height="500"></center><br>
                        <center><p><b><u>Vinyl Sticker</u></b></p></center>
                        <center><img src="images/finalproject/logo003.JPG" height="500"></center>
                        <hr>
                        <h3>installation</h3>
                        <p>Now we need to install the Smart waste bin module into a waste bin ,I used a normall wastebin that found in top of our lab building .I used hot glue gun to secure the wastebin top and our sensor module .before installing we need to manually turn on the sensor node using the <b>Slide Switch</b> moving esp side .</p>
                        <center><img src="images/finalproject/install001.JPG" height="500"> <img src="images/finalproject/install002.JPG" height="500"></center><br>
                        <p>I used vinyl printing to the sticker work on the WasteBin.For the dashboard I also created small <b>Dashboard</b> system for drivers to disply the waste level and optimized path.Here I used a Raspberry Pi with 7-inch LCD Display to do this.</p>
                        <center><img src="images/finalproject/install003.JPG" height="500"></center><br>
                        <p>Here i displying the <b>WasteBin Status</b> and <b>WasteBin Location</b> . by using a Rpi , but due to voltage problem I also used my computer video output.</p>
                        <hr>
                        <h3>Hero Shot</h3>
                        <center><img src="images/finalproject/heroshot.JPG" width="100%"></center><br>
                        <hr>
                        <center><p><b><u>Presentation Video</u></b></p></center>
                        <center><video width="720" height="440" controls>
                        <source src="presentation.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                        </video></center><br>
                        <hr>
                        <h4>Resource</h4>
                        <ul>
                        <li><a href="resource/finalproject/3DDesignFile.zip">3D Design Files</a></li>
                        <li><a href="resource/finalproject/Code.zip">Programming Code</a></li>
                        <li><a href="resource/finalproject/pcbdesign.zip">PCB Design Files</a></li>
                        <li><a href="resource/finalproject/MobileApplication.zip">Android Application APK</a></li>
                        <li><a href="resource/finalproject/planetbin.zip">Project Website Source</a></li>
                        </ul>
                        
                        
                        
                            
                            
                            
                            
                            
						</div>
					</div>
                
                

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
						
							<section>
								<h2>Follow</h2>
								<ul class="icons">
									<li><a href="https://twitter.com/0xsalfar" class="icon style2 fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="https://www.facebook.com/farissalmannbr" class="icon style2 fa-facebook"><span class="label">Facebook</span></a></li>
									<li><a href="https://www.instagram.com/sal_far_/" class="icon style2 fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="https://www.hackster.io/salmanfarisvp" class="icon style2 fa-dribbble"><span class="label">Dribbble</span></a></li>
									<li><a href="https://www.github.com/salmanfarisvp" class="icon style2 fa-github"><span class="label">GitHub</span></a></li>
									<li><a href="mailto:farissalmannbr@gmail.com" class="icon style2 fa-envelope-o"><span class="label">Email</span></a></li>
								</ul>
							</section>
							<ul class="copyright">
								<li>This work by Salman Faris is licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</a></li>
							</ul>
						</div>
					</footer>

			</div>

        
        
        
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>